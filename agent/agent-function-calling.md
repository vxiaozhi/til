## Agent 工具调用: Function Calling的原理与问题


### 工具/函数调度

#### 1. what？——function call是什么？ 

LLM通过结构化指令调用外部函数/API，将自然语言意图转为可执行指令的能力。 简单说：Function Call就是让智能助手能调用外部工具的功能，比如查天气、订外卖、算数学题，让它从“只会说话”变成“会办实事”的全能帮手！

#### 2. why？——为什么需要function call？ 

大模型本身的一些缺陷，例如：
1. 知识有时效性缺陷 比如你问 "2025 年 NBA 总冠军是谁？"（假设现在是 2025 年），模型如果没学过 2025 年的新数据，就答不上来。但用 Function Call 调用体育新闻 API，马上能拿到实时结果。
2. 不会做专业操作 模型懂医学知识，但不能直接帮你查医院排班；懂数学公式，但不会用 Excel 算工资表。而 Function Call 能喊医院系统、办公软件来干活，实现 "理论 + 实操" 结合。

#### 3. Function call可能的问题

错误调用参数、幻觉生成API、依赖关系混乱、隐私问题（如乱调用支付软件）。如下面举了一些例子：

1. 如果"外援"掉链子，助手也会变笨 比如天气API突然崩了，助手查不到天气，只能跟你说："抱歉，天气信息没拿到..."
2. 隐私问题：别让助手乱翻你的东西 如果助手能调用你的支付宝付款，万一被坏人骗了，可能会乱花钱——所以现在很多Function Call都需要你"授权确认"才能用。
3. 复杂任务容易搞砸 比如你让助手"先订机票，再订酒店，最后租辆车"，如果其中一步出错（比如机票卖完了），助手可能不知道怎么调整，需要你手把手教它。
